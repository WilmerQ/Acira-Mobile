{"version":3,"sources":["../../src/pages/maphistorial/maphistorial.module.ts","../../src/pages/maphistorial/maphistorial.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACE;AAUlD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QARlC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,uEAAgB,CAAC;aAC3C;SACF,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZqF;AAE/B;AAC/C;AAC4C;AAChC;AACkC;AACN;AACjC;AACQ;AAES;AACxB;AACe;AACvB;AASlC;IAsDE,0BAAmB,OAAsB,EAChC,SAAoB,EACpB,WAAwB,EACvB,WAAuB,EACxB,iBAAoC,EACpC,WAA8B,EAC7B,QAAkB,EAClB,IAAU,EACV,KAAY,EACb,QAAkB,EAClB,eAAsC,EACtC,YAA6C,EAC7C,SAA0B;QAZnC,iBA8BC;QA9BkB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QACvB,gBAAW,GAAX,WAAW,CAAY;QACxB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,gBAAW,GAAX,WAAW,CAAmB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAM;QACV,UAAK,GAAL,KAAK,CAAO;QACb,aAAQ,GAAR,QAAQ,CAAU;QAClB,oBAAe,GAAf,eAAe,CAAuB;QACtC,iBAAY,GAAZ,YAAY,CAAiC;QAC7C,cAAS,GAAT,SAAS,CAAiB;QA9DnC,sBAAiB,GAAY,KAAK,CAAC;QACnC,oBAAe,GAA0B,IAAI,CAAC;QAC9C,WAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QAIxC,aAAQ,GAAW,CAAC,CAAC;QACrB,kBAAa,GAAY,KAAK,CAAC;QAC/B,sBAAiB,GAAQ,IAAI,CAAC;QAC9B,sBAAiB,GAAQ,IAAI,CAAC;QAC9B,QAAG,GAAY,IAAI,CAAC;QACpB,aAAQ,GAAW,kDAAkD,CAAC;QACtE,cAAS,GAAW,kDAAkD,CAAC;QAGvE,oBAAe,GAAY,KAAK,CAAC;QACjC,oBAAe,GAAY,KAAK,CAAC;QAGjC,uBAAkB,GAAY,KAAK,CAAC;QAEpC,wBAAmB,GAAG,UAAC,WAAW;YAChC,6EAA6E;YAC7E,KAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE;iBACjC,IAAI,CAAC,UAAC,KAAK;gBACV,mDAAmD;gBACnD,IAAI,KAAK,EAAE;oBACT,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;oBACvB,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;oBAC/B,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC;oBAChB,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC3B,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAClB,KAAI,CAAC,cAAc,EAAE,CAAC;iBACvB;qBAAM;oBACL,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;wBAC3C,OAAO,EAAE,KAAK;wBACd,OAAO,EAAE,mDAAmD;wBAC5D,mBAAmB,EAAE,IAAI;qBAC1B,CAAC,CAAC;oBACH,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;iBACxB;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,WAAC,IAAI,kEAAsB,CAAC,CAAC,CAAC,EAAzB,CAAyB,CAAC,CAAC;QAC7C,CAAC;QAED,YAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;YACtC,OAAO,EAAE,KAAK;YACd,OAAO,EAAE,mDAAmD;YAC5D,mBAAmB,EAAE,IAAI;SAC1B,CAAC,CAAC;QAeD,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,IAAI,GAAW,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACzD,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;YAC7B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B;QACD,IAAI,GAAG,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;YAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACtB;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SACvB;QACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC7D,IAAI,CAAC,iBAAiB,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE9D,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;IAC1C,CAAC;IAED,0CAAe,GAAf;QAAA,iBAWC;QAVC,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE;aACjC,IAAI,CAAC,UAAC,KAAK;YACV,IAAI,KAAK,EAAE;gBACT,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,KAAI,CAAC,cAAc,EAAE,CAAC;aACvB;iBAAM;gBACL,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE;aACvB;QACH,CAAC,CAAC,CAAC,KAAK,CAAC,WAAC,IAAI,kEAAsB,CAAC,CAAC,CAAC,EAAzB,CAAyB,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IAChF,CAAC;IAED,yCAAc,GAAd;QACE,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;YAChC,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,IAAI,IAAI,EAAE;gBAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,SAAS,IAAI,IAAI,EAAE;gBAC1C,IAAI,CAAC,aAAa,EAAE,CAAC;aACtB;YAED,IAAI,IAAI,SAAa,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SACpB;IACH,CAAC;IAED,2CAAgB,GAAhB;QACE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IAED,yCAAc,GAAd,UAAe,OAAO;QAAtB,iBAwBC;QAvBC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QACvE,OAAO,CAAC,YAAY,CAAC;YACnB,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC;YAChB,IAAI,IAAI,GAAW,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;gBAC7B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;iBAAM;gBACL,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC1B;YACD,IAAI,GAAG,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAC/C,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;gBAC7B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtB;iBAAM;gBACL,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;YACD,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,KAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,CAAC;YACd,EAAE,EAAE,OAAO;SACZ,CAAC,CAAC;IACL,CAAC;IAED,kCAAO,GAAP,UAAQ,QAAqB;QAA7B,iBA0IC;QAzIC,IAAI,QAAQ,CAAC;QACb,IAAI,SAAS,CAAC;QACd,IAAI,QAAQ,KAAK,SAAS,EAAE;YAC1B,QAAQ,GAAG,SAAS,CAAC;YACrB,SAAS,GAAG,CAAC,QAAQ,CAAC;SACvB;aAAM;YACL,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC;YACpC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC;SACvC;QACD,0DAA0D;QAC1D,IAAI,MAAM,GAAgB,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAEzD,IAAI,QAAQ,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;QAEjD,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACrC,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,EAAE;YACR,cAAc,EAAE,KAAK;YACrB,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM;YACvC,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,WAAW,EAAE,KAAK;YAClB,OAAO,EAAE,EAAE;SACZ,CAAC,CAAC;QAEH,IAAI,GAAG,GAAG,4BAA4B,CAAC;QACvC,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,IAAI,EAAE,GAAG;YACT,KAAK,EAAE,qBAAqB;SAC7B,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE;YAClD,IAAI,OAAO,GAAuB;gBAChC,kBAAkB,EAAE,IAAI;gBACxB,UAAU,EAAE,CAAC;aACd,CAAC;YAEF,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC;iBACpC,MAAM,CAAC,UAAC,CAAC,IAAK,QAAC,CAAC,MAAM,KAAK,SAAS,EAAtB,CAAsB,CAAC;iBACrC,SAAS,CAAC,mBAAS;gBAClB,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAC3F,KAAI,CAAC,eAAe,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAErG,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBAC3B,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC3B,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,CAAC;gBAE7C,IAAI,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC,EAAE;oBACzD,KAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;oBAChC,KAAI,CAAC,GAAG,GAAG,KAAK,CAAC;iBAClB;gBAED,IAAI,KAAI,CAAC,WAAW,EAAE;oBACpB,IAAI,CAAC,KAAI,CAAC,iBAAiB,EAAE;wBAC3B,KAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;qBACjC;yBAAM,IAAI,KAAI,CAAC,iBAAiB,EAAE;wBACjC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;qBAC9B;oBAED,IAAI,eAAe,GAAG;wBACpB,KAAI,CAAC,eAAe;wBACpB,EAAE,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;qBAC1E,CAAC;oBACF,KAAI,CAAC,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;wBACzC,IAAI,EAAE,eAAe;wBACrB,QAAQ,EAAE,IAAI;wBACd,WAAW,EAAE,SAAS;wBACtB,aAAa,EAAE,GAAG;wBAClB,YAAY,EAAE,CAAC;qBAChB,CAAC,CAAC;oBAEH,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;oBACjC,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBAC/B;gBAED,IAAI,KAAI,CAAC,QAAQ,EAAE;oBACjB,0DAA0D;oBAC1D,IAAI,CAAC,KAAI,CAAC,aAAa,EAAE;wBACvB,KAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;qBACjC;oBAED,IAAI,KAAI,CAAC,QAAQ,IAAI,GAAG,IAAI,KAAI,CAAC,QAAQ,IAAI,EAAE,EAAE;wBAC/C,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;wBACnB,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;wBACxC,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;4BAC3B,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;4BACrF,WAAW,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;4BAChG,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO;4BAC1C,UAAU,EAAE,IAAI;yBACjB,EAAE,UAAC,QAAQ,EAAE,MAAM;4BAClB,IAAI,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAAE;gCAC9C,qFAAqF;gCACrF,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;gCAC1D,qFAAqF;gCACrF,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;gCACzD,KAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gCAC/C,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;6BAC3B;iCAAM;gCACL,KAAK,CAAC,oDAAoD,GAAG,MAAM,CAAC,CAAC;6BACtE;wBACH,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;qBACnC;iBACF;YACH,CAAC,CAAC,CAAC;YAEL,IAAI,IAAI,GAAG,yBAAyB,CAAC;YACrC,IAAI,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACtC,QAAQ,EAAE,EAAE,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;gBACnF,GAAG,EAAE,KAAI,CAAC,GAAG;gBACb,IAAI,EAAE,IAAI;gBACV,KAAK,EAAE,uBAAuB;aAC/B,CAAC,CAAC;YAEH,IAAI,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;gBAC1C,OAAO,EAAE,uBAAuB;gBAChC,QAAQ,EAAE,EAAE,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,OAAO,EAAE,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;aACpF,CAAC,CAAC;YAEH,UAAU,CAAC,WAAW,CAAC,OAAO,EAAE;gBAC9B,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;YAEH,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YAC1C,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,6BAA6B,MAAM,EAAE,aAAa;YAChD,IAAI,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;gBAC1C,OAAO,EAAE,aAAa;aACvB,CAAC,CAAC;YACH,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE;gBAC1B,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,sCAAW,GAAX;QACE,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI;YAChC,OAAO,EAAE,0BAA0B,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAiB;gBACvH,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO;gBAC5F,uCAAuC;gBACvC,oEAAoE;kBAClE,qEAAqE;kBACrE,6BAA6B,GAAG,IAAI,CAAC,QAAQ;kBAC7C,0BAA0B,GAAG,IAAI,CAAC,SAAS;YAC/C,OAAO,EAAE,CAAC;oBACR,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;oBACT,CAAC;iBACF,CAAC;SACH,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,uCAAY,GAAZ,UAAa,OAAO;QAClB,IAAI,IAAI,GAAuB;YAC7B,qBAAqB,EAAE,IAAI;SAC5B;QACD,IAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAChE,WAAW,CAAC,OAAO,EAAE,CAAC;QAEtB,gDAAgD;QAChD,4DAA4D;IAC9D,CAAC;IAED,oCAAS,GAAT;QACE,IAAI,GAAG,GAAW,kDAAkD,CAAC;QACrE,IAAI,CAAC,GAAG,GAAG,IAAI,kEAAQ,EAAE,CAAC;QAC1B,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;YACpD,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC;SACnE;QACD,0FAA0F;QAC1F,OAAO,GAAG,CAAC;IACb,CAAC;IAED,wCAAa,GAAb;QAAA,iBASC;QARC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;QACpE,IAAI,YAAY,GAAmB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAC1D,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,KAAK;YACzE,qDAAqD;YACrD,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC,EAAE,UAAC,KAAK;YACP,eAAe;QACjB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAS,GAAT;QAAA,iBAiBC;QAhBC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;YAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;YACpD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC/C;aAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;YACpD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC/C;QACD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,cAAI;YACtC,OAAO,CAAC,GAAG,CAAC,8BAA8B,GAAG,IAAI,CAAC,CAAC;YACnD,IAAI,IAAI,IAAI,CAAC,EAAE;gBACb,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;aACjC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAS,GAAT;QACE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACnB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;IAClC,CAAC;IArWU,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;6EAuDyC;YACrB,8EAAS;YACP,6EAAW;YACV,8GAAU;YACL,wEAAiB;YACvB,yEAAiB;YACnB,kEAAQ;YACZ,mEAAI;YACH,+DAAK;YACH,+EAAQ;YACD,uIAAqB;YACxB,0GAA+B;YAClC,aAAe;OAlExB,gBAAgB,CAuW5B;IAAD,CAAC;AAAA;SAvWY,gBAAgB,e","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MaphistorialPage } from './maphistorial';\n\n@NgModule({\n  declarations: [\n    MaphistorialPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MaphistorialPage),\n  ],\n})\nexport class MaphistorialPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/maphistorial/maphistorial.module.ts","import { OperacionesLocalStorageProvider } from './../../providers/operaciones-local-storage/operaciones-local-storage';\nimport { objetoEventoHistorial } from './../../models/objetoEventoHistorial';\nimport { Geolocation, Geoposition, GeolocationOptions } from '@ionic-native/geolocation';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController, Platform } from 'ionic-angular';\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { LoadingController } from 'ionic-angular/components/loading/loading-controller';\nimport { AlertController } from 'ionic-angular/components/alert/alert-controller';\nimport { conexion } from '../../models/conexion';\nimport { ImageViewerController } from 'ionic-img-viewer';\nimport { ImageViewerOptions } from 'ionic-img-viewer/dist/es2015/src/image-viewer';\nimport { TransferObject, Transfer } from '@ionic-native/transfer';\nimport { File } from '@ionic-native/file';\nimport { Media, MediaObject } from '@ionic-native/media';\nimport * as Raven from 'raven-js';\ndeclare var google;\n\n\n@IonicPage()\n@Component({\n  selector: 'page-maphistorial',\n  templateUrl: 'maphistorial.html',\n})\nexport class MaphistorialPage {\n\n  map: any;\n  ubicacionActual: any;\n  polylineExistente: Boolean = false;\n  objetoHistorial: objetoEventoHistorial = null;\n  bounds = new google.maps.LatLngBounds();\n  flightPath: any;\n  rutaDirecta: boolean;\n  rutaAuto: boolean;\n  contador: number = 1;\n  rutaExistente: Boolean = false;\n  directionsService: any = null;\n  directionsDisplay: any = null;\n  aux: boolean = true;\n  duracion: string = \"Solo disponible con ruta de automóvil habilitada\";\n  distancia: string = \"Solo disponible con ruta de automóvil habilitada\";\n  con: conexion;\n  _imageViewerCtrl: ImageViewerController;\n  buttonFabImagen: boolean = false;\n  audioDisponible: boolean = false;\n  filePath: string;\n  audio: MediaObject;\n  reproduciendoAudio: boolean = false;\n\n  changeLocationState = (isAvailable) => {\n    // console.log(\"mapHistorial cambio de estado de ubicacion: \" + isAvailable);\n    this.diagnostico.isLocationEnabled()\n      .then((state) => {\n        //  console.log(\"state isLocationEnabled\" + state);\n        if (state) {\n          this.loading.dismiss();\n          this.polylineExistente = false;\n          this.aux = true;\n          this.rutaExistente = false;\n          this.contador = 1;\n          this.ionViewDidLoad();\n        } else {\n          this.loading = this.loadingController.create({\n            spinner: 'ios',\n            content: 'Por favor encienda la ubicación en su dispositivo',\n            dismissOnPageChange: true\n          });\n          this.loading.present();\n        }\n      }).catch(e => Raven.captureException(e));\n  }\n\n  loading = this.loadingController.create({\n    spinner: 'ios',\n    content: 'Por favor encienda la ubicación en su dispositivo',\n    dismissOnPageChange: true\n  });\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public geolocation: Geolocation,\n    private diagnostico: Diagnostic,\n    public loadingController: LoadingController,\n    public popoverCtrl: PopoverController,\n    private transfer: Transfer,\n    private file: File,\n    private media: Media,\n    public platform: Platform,\n    public imageViewerCtrl: ImageViewerController,\n    public localstorage: OperacionesLocalStorageProvider,\n    public alertCtrl: AlertController) {\n    this.objetoHistorial = navParams.get(\"objeto\");\n    let temp: string = localstorage.getObject(\"rutadirecta\");\n    if (temp.indexOf(\"true\") >= 0) {\n      this.rutaDirecta = true;\n    } else {\n      this.rutaDirecta = false;\n    }\n    temp = localstorage.getObject(\"rutaauto\");\n    if (temp.indexOf(\"true\") >= 0) {\n      this.rutaAuto = true;\n    } else {\n      this.rutaAuto = false;\n    }\n    this.directionsService = new google.maps.DirectionsService();\n    this.directionsDisplay = new google.maps.DirectionsRenderer();\n\n    this._imageViewerCtrl = imageViewerCtrl;\n  }\n\n  ionViewDidEnter() {\n    this.diagnostico.isLocationEnabled()\n      .then((state) => {\n        if (state) {\n          this.loading.dismiss();\n          this.ionViewDidLoad();\n        } else {\n          this.loading.present()\n        }\n      }).catch(e => Raven.captureException(e));\n    this.diagnostico.registerLocationStateChangeHandler(this.changeLocationState);\n  }\n\n  ionViewDidLoad() {\n    if (this.objetoHistorial != null) {\n      if (this.objetoHistorial.uuidImagen != null) {\n        this.buttonFabImagen = true;\n      }\n      if (this.objetoHistorial.uuidAudio != null) {\n        this.downloadAudio();\n      }\n\n      let temp: Geoposition;\n      this.loadMap(temp);\n    }\n  }\n\n  ionViewWillLeave() {\n    this.rutaAuto = false;\n    this.rutaDirecta = false;\n  }\n\n  presentPopover(myEvent) {\n    let popover = this.popoverCtrl.create(\"PopoverPage\", { tipo: \"mapa\" });\n    popover.onDidDismiss(() => {\n      this.polylineExistente = false;\n      this.rutaExistente = false;\n      this.aux = true;\n      let temp: string = this.localstorage.getObject(\"rutadirecta\");\n      if (temp.indexOf(\"true\") >= 0) {\n        this.rutaDirecta = true;\n      } else {\n        this.rutaDirecta = false;\n      }\n      temp = this.localstorage.getObject(\"rutaauto\");\n      if (temp.indexOf(\"true\") >= 0) {\n        this.rutaAuto = true;\n      } else {\n        this.rutaAuto = false;\n      }\n      this.contador = 1;\n      this.ionViewDidLoad();\n    });\n    popover.present({\n      ev: myEvent\n    });\n  }\n\n  loadMap(position: Geoposition) {\n    let latitude;\n    let longitude;\n    if (position === undefined) {\n      latitude = 11.234722;\n      longitude = -74.18995;\n    } else {\n      latitude = position.coords.latitude;\n      longitude = position.coords.longitude;\n    }\n    // console.log(\"loadmap\" + latitude + \" -- \" + longitude);\n    let mapEle: HTMLElement = document.getElementById('map');\n\n    let myLatLng = { lat: latitude, lng: longitude };\n\n    this.map = new google.maps.Map(mapEle, {\n      center: myLatLng,\n      zoom: 17,\n      mapTypeControl: false,\n      mapTypeId: google.maps.MapTypeId.hybrid,\n      myLocationButton: true,\n      streetViewControl: false,\n      zoomControl: false,\n      maxZoom: 19,\n    });\n\n    let img = \"assets/icon/bluecircle.png\";\n    let marker = new google.maps.Marker({\n      map: this.map,\n      icon: img,\n      title: 'Tu ubicación actual'\n    });\n\n    google.maps.event.addListenerOnce(this.map, 'idle', () => {\n      let options: GeolocationOptions = {\n        enableHighAccuracy: true,\n        maximumAge: 0\n      };\n\n      this.geolocation.watchPosition(options)\n        .filter((p) => p.coords !== undefined)\n        .subscribe(position1 => {\n          let latLng = new google.maps.LatLng(position1.coords.latitude, position1.coords.longitude);\n          this.ubicacionActual = new google.maps.LatLng(position1.coords.latitude, position1.coords.longitude);\n\n          marker.setPosition(latLng);\n          this.bounds.extend(latLng);\n          this.bounds.extend(cityCircle.getPosition());\n\n          if (!(this.rutaDirecta) && !(this.rutaAuto) && (this.aux)) {\n            this.map.fitBounds(this.bounds);\n            this.aux = false;\n          }\n\n          if (this.rutaDirecta) {\n            if (!this.polylineExistente) {\n              this.map.fitBounds(this.bounds);\n            } else if (this.polylineExistente) {\n              this.flightPath.setMap(null);\n            }\n\n            let PlanCoordinates = [\n              this.ubicacionActual,\n              { lat: this.objetoHistorial.latitud, lng: this.objetoHistorial.longitud }\n            ];\n            this.flightPath = new google.maps.Polyline({\n              path: PlanCoordinates,\n              geodesic: true,\n              strokeColor: '#FF0000',\n              strokeOpacity: 1.0,\n              strokeWeight: 2\n            });\n\n            this.flightPath.setMap(this.map);\n            this.polylineExistente = true;\n          }\n\n          if (this.rutaAuto) {\n            //console.log(\"contador de ubicaciones \" + this.contador);\n            if (!this.rutaExistente) {\n              this.map.fitBounds(this.bounds);\n            }\n\n            if (this.contador == 800 || this.contador == 10) {\n              this.contador = 11;\n              this.directionsDisplay.setMap(this.map);\n              this.directionsService.route({\n                origin: new google.maps.LatLng(position1.coords.latitude, position1.coords.longitude),\n                destination: new google.maps.LatLng(this.objetoHistorial.latitud, this.objetoHistorial.longitud),\n                travelMode: google.maps.TravelMode.DRIVING,\n                avoidTolls: true\n              }, (response, status) => {\n                if (status === google.maps.DirectionsStatus.OK) {\n                  //console.log(\"aqui en ok de ruta auto \" + response.routes[0].legs[0].distance.text);\n                  this.distancia = response.routes[0].legs[0].distance.text;\n                  //console.log(\"aqui en ok de ruta auto \" + response.routes[0].legs[0].duration.text);\n                  this.duracion = response.routes[0].legs[0].duration.text;\n                  this.directionsDisplay.setDirections(response);\n                  this.rutaExistente = true;\n                } else {\n                  alert('No se pudieron mostrar las indicaciones debido a: ' + status);\n                }\n              });\n            } else {\n              this.contador = this.contador + 1;\n            }\n          }\n        });\n\n      let img1 = \"assets/icon/cuidado.png\";\n      let cityCircle = new google.maps.Marker({\n        position: { lat: this.objetoHistorial.latitud, lng: this.objetoHistorial.longitud },\n        map: this.map,\n        icon: img1,\n        title: 'Evento reportado aquí'\n      });\n\n      var infowindow = new google.maps.InfoWindow({\n        content: 'Evento reportado aquí',\n        position: { lat: this.objetoHistorial.latitud, lng: this.objetoHistorial.longitud }\n      });\n\n      cityCircle.addListener('click', function () {\n        infowindow.open(this.map);\n      });\n\n      attachSecretMessage(marker, marker.title);\n      mapEle.classList.add('show-map');\n    });\n\n    function attachSecretMessage(marker, secretMessage) {\n      var infowindow = new google.maps.InfoWindow({\n        content: secretMessage\n      });\n      marker.addListener('click', function () {\n        infowindow.open(marker.get('map'), marker);\n      });\n    }\n  }\n\n  informacion() {\n    let confirm = this.alertCtrl.create({\n      title: this.objetoHistorial.tipo,\n      message: \"Se recibe el reporte de \" + this.objetoHistorial.tipo + \". <br> Por: \" + this.objetoHistorial.usuarioInformante +\n        \"<br> Fecha:\" + this.objetoHistorial.fechaRecolecion + \"<br>\" + this.objetoHistorial.mensaje +\n        \"<br> Preste atención y tenga cuidado.\" +\n        \" <br><br><strong>-El punto azul en el mapa es su ubicacion actual.\"\n        + \"<br>-El circulo rojo es la zona donde se reporto el evento.<strong>\"\n        + \"<br><br>-Duración:<strong> \" + this.duracion\n        + \"<br>-Distancia:<strong> \" + this.distancia,\n      buttons: [{\n        text: 'OK',\n        handler: () => {\n        }\n      }]\n    });\n    confirm.present();\n  }\n\n  presentImage(myImage) {\n    let temp: ImageViewerOptions = {\n      enableBackdropDismiss: true\n    }\n    const imageViewer = this._imageViewerCtrl.create(myImage, temp);\n    imageViewer.present();\n\n    //setTimeout(() => imageViewer.dismiss(), 1000);\n    //imageViewer.onDidDismiss(() => alert('Viewer dismissed'));\n  }\n\n  urlImagen(): string {\n    let url: string = \"http://via.placeholder.com/150?text=code+trigger\";\n    this.con = new conexion();\n    if (this.con != null && this.objetoHistorial != null) {\n      url = this.con.urlServletImagen + this.objetoHistorial.uuidImagen;\n    }\n    // console.log(\"******************************************************url imagen \" + url);\n    return url;\n  }\n\n  downloadAudio() {\n    let url = this.con.urlServletAudio + this.objetoHistorial.uuidAudio;\n    let fileTransfer: TransferObject = this.transfer.create();\n    fileTransfer.download(url, this.file.dataDirectory + \"voz.3gp\").then((entry) => {\n      //console.log('download complete: ' + entry.toURL());\n      this.audioDisponible = true;\n    }, (error) => {\n      // handle error\n    });\n  }\n\n  playAudio() {\n    if (this.platform.is('ios')) {\n      this.filePath = this.file.dataDirectory + \"voz.3gp\";\n      this.audio = this.media.create(this.filePath);\n    } else if (this.platform.is('android')) {\n      this.filePath = this.file.dataDirectory + \"voz.3gp\";\n      this.audio = this.media.create(this.filePath);\n    }\n    this.audio.play();\n    this.audio.setVolume(0.9);\n    this.reproduciendoAudio = true;\n    this.audio.onStatusUpdate.subscribe(data => {\n      console.log(\"aqui en el status del audio \" + data);\n      if (data == 4) {\n        this.reproduciendoAudio = false;\n      }\n    });\n  }\n\n  stopAudio() {\n    this.audio.pause();\n    this.reproduciendoAudio = false;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/maphistorial/maphistorial.ts"],"sourceRoot":""}